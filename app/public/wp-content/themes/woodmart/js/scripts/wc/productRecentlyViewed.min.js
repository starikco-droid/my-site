!function(o){woodmartThemeModule.productRecentlyViewed=function(){o(".wd-products-element .products, .wd-carousel-container.products .wd-carousel").each(function(){var d=o(this),e=d.data("atts");void 0!==e&&void 0!==e.post_type&&"recently_viewed"===e.post_type&&void 0!==e.ajax_recently_viewed&&"yes"===e.ajax_recently_viewed&&o.ajax({url:woodmart_settings.ajaxurl,data:{attr:e,action:"woodmart_get_recently_viewed_products"},dataType:"json",method:"POST",success:function(e){e.items&&woodmartThemeModule.removeDuplicatedStylesFromHTML(e.items,function(e){var t=0!==o("<div>").html(e).find(".wd-product").length;d.hasClass("wd-carousel")&&d.parents(".wd-products-element").length?(t?d.parents(".wd-products-element").removeClass("wd-hide"):d.parents(".wd-products-element").addClass("wd-hide"),d.parent().replaceWith(e)):(t?d.parent().removeClass("wd-hide"):d.parent().addClass("wd-hide"),d.html(e)),woodmartThemeModule.$document.trigger("wdRecentlyViewedProductLoaded"),woodmartThemeModule.$document.trigger("wood-images-loaded")})},error:function(){console.log("ajax error")}})})},o(document).ready(function(){woodmartThemeModule.productRecentlyViewed()})}(jQuery);