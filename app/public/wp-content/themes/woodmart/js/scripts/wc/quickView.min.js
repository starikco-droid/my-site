!function(d){d.each(["frontend/element_ready/wd_products.default","frontend/element_ready/wd_products_tabs.default"],function(e,o){woodmartThemeModule.wdElementorAddAction(o,function(){woodmartThemeModule.quickViewInit()})}),woodmartThemeModule.quickViewInit=function(){woodmartThemeModule.$document.on("click",".open-quick-view",function(e){if(e.preventDefault(),d(".open-quick-view").hasClass("loading"))return!0;var e=d(this),o=e.data("id"),i=e.data("loop-name"),t=e.data("loop"),n="",a="",i=d(".quick-view").find('[data-loop-name="'+i+'"]');e.addClass("loading"),void 0!==i[t-1]&&(n=i.eq(t-1).addClass("quick-view-prev"),n=d("<div>").append(n.clone()).html()),void 0!==i[t+1]&&(a=i.eq(t+1).addClass("quick-view-next"),a=d("<div>").append(a.clone()).html()),woodmartThemeModule.quickViewLoad(o,e,n,a)})},woodmartThemeModule.quickViewLoad=function(e,o){function i(e){e=d(e),d.magnificPopup?.instance?.isOpen&&(d.magnificPopup.instance.st.removalDelay=0,d.magnificPopup.close()),d.magnificPopup.open({items:{src:e,type:"inline"},closeMarkup:woodmart_settings.close_markup,tLoading:woodmart_settings.loading,removalDelay:600,fixedContentPos:!0,callbacks:{beforeOpen:function(){this.wrap.addClass("wd-popup-quick-view-wrap")},open:function(){var e=d(this.content[0]).find(".variations_form");e.each(function(){d(this).wc_variation_form().find(".variations select:eq(0)").trigger("change")}),e.trigger("wc_variation_form"),woodmartThemeModule.$body.trigger("woodmart-quick-view-displayed"),woodmartThemeModule.$document.trigger("wdQuickViewOpen"),setTimeout(function(){woodmartThemeModule.$document.trigger("wdQuickViewOpen300")},300)}}})}e={id:e,action:"woodmart_quick_view"};void 0!==o.data("attribute")&&d.extend(e,o.data("attribute"));d.ajax({url:woodmart_settings.ajaxurl,data:e,method:"get",success:function(e){woodmartThemeModule.removeDuplicatedStylesFromHTML(e,function(e){woodmart_settings.quickview_in_popup_fix?(d.magnificPopup.close(),setTimeout(function(){i(e)},500)):i(e)})},complete:function(){o.removeClass("loading")}})},d(document).ready(function(){woodmartThemeModule.quickViewInit()})}(jQuery);