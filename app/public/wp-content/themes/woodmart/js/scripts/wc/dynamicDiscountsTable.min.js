!function(e){e.each(["frontend/element_ready/wd_dynamic_discounts_table.default"],function(t,a){woodmartThemeModule.wdElementorAddAction(a,function(){woodmartThemeModule.renderDynamicDiscountsTable()})}),woodmartThemeModule.renderDynamicDiscountsTable=function(){var t=e(".variations_form");let n=e(".wd-dynamic-discounts"),a=n.html();function i(){e(".wd-dynamic-discounts tbody tr").each(function(){var t=e(this);let a=t.data("min");t.off("click").on("click",function(){e('.quantity input.qty[name="quantity"]').val(a).trigger("change")})})}function o(t,i){t.find("tbody tr").each(function(){var t=e(this),a=t.data("min"),n=t.data("max");!n&&a<=i||a<=i&&i<=n?t.addClass("wd-active"):t.removeClass("wd-active")})}t.each(function(){e(this).on("show_variation",function(t,a){e.ajax({url:woodmart_settings.ajaxurl,data:{action:"woodmart_update_discount_dynamic_discounts_table",variation_id:a.variation_id},beforeSend:function(){n.find(".wd-loader-overlay").addClass("wd-loading")},success:t=>{var a=n.attr("class");woodmartThemeModule.removeDuplicatedStylesFromHTML(t,function(t){n.replaceWith(t),(n=e(".wd-dynamic-discounts")).attr("class",a),i(),o(n,e(this).find('[name="quantity"]').val()),n.find(".wd-loader-overlay").removeClass("wd-loading")})},dataType:"json",method:"GET"})}).on("click",".reset_variations",function(){n.html(a),i(),o(e(".wd-dynamic-discounts"),e(this).closest("form").find('.quantity input.qty[name="quantity"]').val())})}),i(),e('.quantity input.qty[name="quantity"]').off("change").on("change",function(){o(n,e(this).val())})},e(document).ready(()=>{woodmartThemeModule.renderDynamicDiscountsTable()})}(jQuery);