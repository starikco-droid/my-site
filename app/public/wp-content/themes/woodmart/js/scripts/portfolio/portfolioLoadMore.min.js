!function(m){woodmartThemeModule.$document.on("wdPortfolioPjaxComplete",function(){woodmartThemeModule.portfolioLoadMore()}),m.each(["frontend/element_ready/wd_portfolio.default"],function(o,e){woodmartThemeModule.wdElementorAddAction(e,function(){woodmartThemeModule.portfolioLoadMore()})}),woodmartThemeModule.portfolioLoadMore=function(){var s;"function"==typeof m.fn.waypoint&&(m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"}),s=!1,m(".wd-portfolio-load-more").on("click",function(o){o.preventDefault();var t,e,a,d,r,n,l,i=m(this);s||i.hasClass("no-more-posts")||(s=!0,l="woodmart_get_portfolio_"+(o=(t=i.parent().parent().find(".wd-projects")).data("source")),e=woodmart_settings.ajaxurl,a="POST",r=t.data("atts"),n=t.data("paged"),i.addClass("loading"),t.addClass("wd-loading"),l={atts:r,paged:n,action:l},"main_loop"===o&&(e=i.attr("href"),a="GET",l=r?{atts:r}:{}),m.ajax({url:e,data:l,dataType:"json",method:a,success:function(e){woodmartThemeModule.removeDuplicatedStylesFromHTML(e.items,function(o){o=m(o);o&&(t.hasClass("wd-masonry")?(t.append(o).isotope("appended",o),t.imagesLoaded().progress(function(){t.isotope("layout"),clearTimeout(d),d=setTimeout(function(){m(".wd-portfolio-load-more.load-on-scroll").waypoint(function(){m(".wd-portfolio-load-more.load-on-scroll").trigger("click")},{offset:"100%"})},1e3)})):t.append(o),t.data("paged",n+1),i.attr("href",e.nextPage),"yes"===woodmart_settings.load_more_button_page_url_opt)&&"no"!==woodmart_settings.load_more_button_page_url&&e.currentPage&&window.history.pushState("","",e.currentPage),woodmartThemeModule.$document.trigger("wdPortfolioLoadMoreLoaded"),woodmartThemeModule.$document.trigger("wood-images-loaded"),"no-more-posts"===e.status&&(i.addClass("no-more-posts"),i.parent().hide())})},error:function(){console.log("ajax error")},complete:function(){i.removeClass("loading"),t.removeClass("wd-loading"),s=!1}}))}))},m(document).ready(function(){woodmartThemeModule.portfolioLoadMore()})}(jQuery);